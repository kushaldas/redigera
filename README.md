# Redigera

A desktop application using `django` to allow change of expiry dates of OpenPGP keys.

Not yet ready for production use. Currently supports keys generated by [tugpgp](https://github.com/SUNET/tugpgp) only.

### System dependencies for Toga

These instructions are different on almost every version of Linux and Unix; here are
some of the common alternatives:

#### Ubuntu / Debian

```
    (venv) $ sudo apt update
    (venv) $ sudo apt install git build-essential pkg-config python3-dev libgirepository1.0-dev libcairo2-dev gir1.2-gtk-3.0 libcanberra-gtk3-module
```

#### Fedora


```
    (venv) $ sudo dnf install git gcc make pkg-config python3-devel gobject-introspection-devel cairo-gobject-devel gtk3 libcanberra-gtk3
```

#### Arch / Manjaro


```
    (venv) $ sudo pacman -Syu git base-devel pkgconf python3 gobject-introspection cairo gtk3 libcanberra

```

#### OpenSUSE Tumbleweed


```
    (venv) $ sudo zypper install git patterns-devel-base-devel_basis pkgconf-pkg-config python3-devel gobject-introspection-devel cairo-devel gtk3 'typelib(Gtk)=3.0' libcanberra-gtk3-module
```

#### FreeBSD


```
    (venv) $ sudo pkg update
    (venv) $ sudo pkg install git gcc cmake pkgconf python3 gobject-introspection cairo gtk3 libcanberra-gtk3
```
If you're not using one of these, you'll need to work out how to install the developer
libraries for ``python3``, ``cairo``, and ``gobject-introspection`` (and please let us
know so we can improve this documentation!)

Using WebView on Linux requires that the user has installed the system packages
for WebKit2, plus the GObject Introspection bindings for WebKit2. The name of
the system package required is distribution dependent:

  - Ubuntu 20.04; Debian 11: ``gir1.2-webkit2-4.0``
  - Ubuntu 22.04+; Debian 12+: ``gir1.2-webkit2-4.1``
  - Fedora: ``webkit2gtk4.1``
  - Arch/Manjaro: ``webkit2gtk-4.1``
  - OpenSUSE Tumbleweed: ``libwebkit2gtk3 typelib(WebKit2)``
  - FreeBSD: ``webkit2-gtk3``

### Setup


```
python3 -m venv .venv
source .venv/bin/activate
python -m pip install -r requirements.txt
briefcase dev
```

On Linux if the window is blank, then start via the following:

```
WEBKIT_DISABLE_COMPOSITING_MODE=1 briefcase dev
```




## Output file

The final key will be saved in your user's `Downloads` directory with
`fingerprint.pub` filename (replace fingerprint with the real fingerprint of
the primary key).
